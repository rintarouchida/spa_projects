openapi: 3.1.0
info:
  title: もくもくMAPのAPI設計書
  description: |-
    # 本アプリケーションで使用するAPIの内容を記載

  version: 1.0.0
servers:
  - url: http://localhost:8000/api/

paths:
  # ログインAPI
  login/:
    post:
      tags:
        - ログインAPI
      description: アプリケーションにログインする
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  description: メールアドレス
                  example: "test@gmail.com"
                password:
                  type: string
                  description: パスワード
                  example: "password"
              required:
                - "email"
                - "password"
      responses:
        "200":
          description: ログインに成功
          content:
            application/json:
              schema:
                type: object
              example:
                message: "ログインに成功しました。"
        "401":
          description: ログインに失敗
          content:
            application/json:
              schema:
                type: object
              example:
                message: "メールアドレスまたはパスワードが間違っています"
  # 登録API
  register/:
    post:
      tags:
        - ユーザー登録API
      description: アプリケーションにユーザー登録する
      requestBody:
         content:
            application/json:
              schema:
                type: object
                properties:
                  name:
                    type: string
                    description: ユーザー名
                    maxLength: 255
                    minLength: 1
                    example: "山田太郎"
                  email:
                    type: string
                    description: メールアドレス
                    maxLength: 255
                    minLength: 1
                    format: email
                    example: "test@gmai.com"
                  password:
                    type: string
                    description: パスワード
                    maxLength: 255
                    minLength: 8
                    example: "password"
                  birthday:
                    type: string
                    description: 生年月日
                    format: date
                    nullable: true
                    example: "1998-12-26"
                  pref_id:
                    type: integer
                    description: 都道府県ID
                    example: 1
                  introduction:
                    type: string
                    description: 自己紹介
                    maxLength: 1000
                    nullable: true
                    example: "こんにちは"
                  twitter_url:
                    type: string
                    description: TwitterのURL
                    format: url
                    maxLength: 255
                    nullable: true
                    example: "https://twitter/example.com"
                required:
                  - name
                  - email
                  - password
                  - pref_id
      responses:
        "200":
          description: ユーザー登録完了
          content:
            application/json:
              schema:
                type: object
              example:
                message: "ユーザー登録が完了しました。"
        "422":
          description: バリデーションエラー
          content:
            application/json:
              schema:
                type: object
              example:
                message: "名前を入力してください"
